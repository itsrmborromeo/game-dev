[gd_scene load_steps=51 format=3 uid="uid://dq8uh7vhsw3ib"]

[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/Player.gd" id="1_lvlw8"]
[ext_resource type="Texture2D" uid="uid://o3qysrnuqxm4" path="res://assets/art/maincharacter/jump/jump1.png" id="2_7gant"]
[ext_resource type="Texture2D" uid="uid://c5h636nq7madp" path="res://assets/art/maincharacter/attack_1/attack1.png" id="2_x3lvu"]
[ext_resource type="Texture2D" uid="uid://cgnro828wnjrt" path="res://assets/art/maincharacter/attack_1/attack2.png" id="3_hscwv"]
[ext_resource type="Texture2D" uid="uid://bspcgc655g5p0" path="res://assets/art/maincharacter/jump/jump2.png" id="3_mucrd"]
[ext_resource type="Texture2D" uid="uid://cooahrk48o84v" path="res://assets/art/maincharacter/attack_1/attack3.png" id="4_pbdvk"]
[ext_resource type="Texture2D" uid="uid://bv8bktfv6i8uy" path="res://assets/art/maincharacter/jump/jump3.png" id="4_x772b"]
[ext_resource type="Texture2D" uid="uid://dodqi7jd642nf" path="res://assets/art/maincharacter/jump/jump4.png" id="5_jabdj"]
[ext_resource type="Texture2D" uid="uid://biu0oie2maaj5" path="res://assets/art/maincharacter/attack_1/attack4.png" id="5_jj14g"]
[ext_resource type="Texture2D" uid="uid://mxhx3tfho41a" path="res://assets/art/maincharacter/jump/jump5.png" id="6_x053m"]
[ext_resource type="Texture2D" uid="uid://dqq6nno1a7c4r" path="res://assets/art/maincharacter/jump/jump6.png" id="7_bpqf6"]
[ext_resource type="Texture2D" uid="uid://cf1ans6nmau7c" path="res://assets/art/maincharacter/jump/jump7.png" id="8_cwg4u"]
[ext_resource type="Texture2D" uid="uid://d16qnnqd1v1i0" path="res://assets/art/maincharacter/jump/jump8.png" id="9_rojhq"]
[ext_resource type="Texture2D" uid="uid://c42nf17akqjpq" path="res://assets/art/maincharacter/jump/jump9.png" id="10_wgdgb"]
[ext_resource type="Texture2D" uid="uid://cnc2mixi3w65b" path="res://assets/art/maincharacter/attack_2/attack1.png" id="11_t3l3d"]
[ext_resource type="Texture2D" uid="uid://deljj126f8ps" path="res://assets/art/maincharacter/attack_2/attack2.png" id="12_50ijd"]
[ext_resource type="Texture2D" uid="uid://c8fdgk632x408" path="res://assets/art/maincharacter/attack_2/attack3.png" id="13_8vqen"]
[ext_resource type="Texture2D" uid="uid://cmnons2qf7x5a" path="res://assets/art/maincharacter/attack_2/attack4.png" id="14_s607f"]
[ext_resource type="Texture2D" uid="uid://dva61jau8ro0e" path="res://assets/art/maincharacter/attack_2/attack5.png" id="15_vnv0h"]
[ext_resource type="Texture2D" uid="uid://dg6bts7o3daae" path="res://assets/art/maincharacter/attack3/attack1.png" id="16_rem0x"]
[ext_resource type="Texture2D" uid="uid://clly0uw5udakp" path="res://assets/art/maincharacter/attack3/attack2.png" id="17_5roxo"]
[ext_resource type="Texture2D" uid="uid://chwh6nl65n7m6" path="res://assets/art/maincharacter/attack3/attack3.png" id="18_2kfqx"]
[ext_resource type="Texture2D" uid="uid://bi2w1kvouthtb" path="res://assets/art/maincharacter/attack3/attack4.png" id="19_bw2k8"]
[ext_resource type="Texture2D" uid="uid://b3vrcx7axogup" path="res://assets/art/maincharacter/idle/idle1.png" id="20_qb7n6"]
[ext_resource type="Texture2D" uid="uid://cnytp7ftryduo" path="res://assets/art/maincharacter/idle/idle2.png" id="21_6qwlm"]
[ext_resource type="Texture2D" uid="uid://cnh03cx7k0lyv" path="res://assets/art/maincharacter/idle/idle3.png" id="22_ad7ka"]
[ext_resource type="Texture2D" uid="uid://dqpg2457akgdp" path="res://assets/art/maincharacter/idle/idle4.png" id="23_oujol"]
[ext_resource type="Texture2D" uid="uid://jcmqbnwhh4ta" path="res://assets/art/maincharacter/idle/idle5.png" id="24_syvga"]
[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/Sword.gd" id="25_fd785"]
[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/gravity.gd" id="26_d8s04"]
[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/player_state_machine.gd" id="27_i3ptv"]
[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/attack_state.gd" id="28_xmq6m"]
[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/jump_state.gd" id="29_ewc53"]
[ext_resource type="Texture2D" uid="uid://bkqc0lionaglb" path="res://assets/art/maincharacter/walk/walk1.png" id="29_p714b"]
[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/dead_state.gd" id="30_05tee"]
[ext_resource type="Texture2D" uid="uid://bk8ecdyxyay0d" path="res://assets/art/maincharacter/walk/walk2.png" id="30_fromu"]
[ext_resource type="Texture2D" uid="uid://d3co22qhe8078" path="res://assets/art/maincharacter/walk/walk3.png" id="31_4a6e4"]
[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/walk_state.gd" id="31_30bye"]
[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/double_jump.gd" id="32_k1jpt"]
[ext_resource type="Texture2D" uid="uid://c6l64wyavbh48" path="res://assets/art/maincharacter/walk/walk4.png" id="32_vxv83"]
[ext_resource type="Texture2D" uid="uid://ddp7u8x4vet7q" path="res://assets/art/maincharacter/walk/walk5.png" id="33_8e2lw"]
[ext_resource type="Script" path="res://Anton/main character/sprites/Scripts/idle_state.gd" id="33_ihr5d"]
[ext_resource type="Texture2D" uid="uid://bxggewynna8dy" path="res://assets/art/maincharacter/walk/walk6.png" id="34_rr3cg"]
[ext_resource type="Texture2D" uid="uid://2ser6xakuaa4" path="res://assets/art/maincharacter/walk/walk7.png" id="35_s84ho"]
[ext_resource type="Texture2D" uid="uid://cuxx8y67sibxh" path="res://assets/art/maincharacter/walk/walk8.png" id="36_gwvs7"]
[ext_resource type="Texture2D" uid="uid://d4mkt2d67ygpa" path="res://assets/art/maincharacter/walk/walk9.png" id="37_08apl"]

[sub_resource type="SpriteFrames" id="SpriteFrames_gt4wa"]
animations = [{
"frames": [{
"duration": 0.7,
"texture": ExtResource("2_x3lvu")
}, {
"duration": 0.7,
"texture": ExtResource("3_hscwv")
}, {
"duration": 0.7,
"texture": ExtResource("4_pbdvk")
}, {
"duration": 0.7,
"texture": ExtResource("5_jj14g")
}],
"loop": false,
"name": &"attack_1",
"speed": 5.0
}, {
"frames": [{
"duration": 0.5,
"texture": ExtResource("11_t3l3d")
}, {
"duration": 0.5,
"texture": ExtResource("12_50ijd")
}, {
"duration": 0.5,
"texture": ExtResource("13_8vqen")
}, {
"duration": 0.5,
"texture": ExtResource("14_s607f")
}, {
"duration": 0.5,
"texture": ExtResource("15_vnv0h")
}],
"loop": false,
"name": &"attack_2",
"speed": 5.0
}, {
"frames": [{
"duration": 0.7,
"texture": ExtResource("16_rem0x")
}, {
"duration": 0.7,
"texture": ExtResource("17_5roxo")
}, {
"duration": 0.7,
"texture": ExtResource("18_2kfqx")
}, {
"duration": 0.7,
"texture": ExtResource("19_bw2k8")
}],
"loop": false,
"name": &"attack_3",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_7gant")
}, {
"duration": 1.0,
"texture": ExtResource("3_mucrd")
}, {
"duration": 1.0,
"texture": ExtResource("4_x772b")
}],
"loop": false,
"name": &"charge_jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("20_qb7n6")
}, {
"duration": 1.0,
"texture": ExtResource("21_6qwlm")
}, {
"duration": 1.0,
"texture": ExtResource("22_ad7ka")
}, {
"duration": 1.0,
"texture": ExtResource("23_oujol")
}, {
"duration": 1.0,
"texture": ExtResource("24_syvga")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_jabdj")
}, {
"duration": 1.0,
"texture": ExtResource("6_x053m")
}, {
"duration": 1.0,
"texture": ExtResource("7_bpqf6")
}, {
"duration": 1.0,
"texture": ExtResource("8_cwg4u")
}, {
"duration": 1.0,
"texture": ExtResource("9_rojhq")
}, {
"duration": 1.0,
"texture": ExtResource("10_wgdgb")
}],
"loop": false,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("29_p714b")
}, {
"duration": 1.0,
"texture": ExtResource("30_fromu")
}, {
"duration": 1.0,
"texture": ExtResource("31_4a6e4")
}, {
"duration": 1.0,
"texture": ExtResource("32_vxv83")
}, {
"duration": 1.0,
"texture": ExtResource("33_8e2lw")
}, {
"duration": 1.0,
"texture": ExtResource("34_rr3cg")
}, {
"duration": 1.0,
"texture": ExtResource("35_s84ho")
}, {
"duration": 1.0,
"texture": ExtResource("36_gwvs7")
}, {
"duration": 1.0,
"texture": ExtResource("37_08apl")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_35be4"]
radius = 16.0
height = 68.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_p4rx2"]
radius = 19.0
height = 78.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5csln"]
size = Vector2(28.5, 67.5)

[node name="Jinbei" type="CharacterBody2D" node_paths=PackedStringArray("state_machine", "sword") groups=["Player"]]
collision_layer = 2
collision_mask = 13
script = ExtResource("1_lvlw8")
state_machine = NodePath("StateMachine")
sword = NodePath("Sword")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(3, -25)
sprite_frames = SubResource("SpriteFrames_gt4wa")
animation = &"attack_3"
frame = 3
frame_progress = 1.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
visible = false
shape = SubResource("CapsuleShape2D_35be4")

[node name="hurtbox" type="Area2D" parent="."]
visible = false
collision_layer = 96
collision_mask = 96

[node name="CollisionShape2D" type="CollisionShape2D" parent="hurtbox"]
shape = SubResource("CapsuleShape2D_p4rx2")

[node name="Sword" type="Area2D" parent="." groups=["Player_strike"]]
visible = false
collision_layer = 64
collision_mask = 32
monitorable = false
script = ExtResource("25_fd785")
damage_amount = 20

[node name="CollisionShape2D" type="CollisionShape2D" parent="Sword"]
position = Vector2(-0.25, -1.75)
shape = SubResource("RectangleShape2D_5csln")

[node name="Range" type="Marker2D" parent="."]

[node name="Gravity" type="Node2D" parent="." node_paths=PackedStringArray("character_body_2d", "animated_sprite_2d")]
script = ExtResource("26_d8s04")
character_body_2d = NodePath("..")
animated_sprite_2d = NodePath("../AnimatedSprite2D")

[node name="StateMachine" type="Node2D" parent="." node_paths=PackedStringArray("initial_player_node_state")]
script = ExtResource("27_i3ptv")
initial_player_node_state = NodePath("idle")

[node name="attack" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("character_body_2d", "animated_sprite_2d", "attack_range", "hit_box", "hit_space")]
script = ExtResource("28_xmq6m")
character_body_2d = NodePath("../..")
animated_sprite_2d = NodePath("../../AnimatedSprite2D")
attack_range = NodePath("../../Range")
hit_box = NodePath("../../Sword/CollisionShape2D")
hit_space = NodePath("../../Sword")

[node name="jump" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("character_body_2d", "animated_sprite_2d")]
script = ExtResource("29_ewc53")
character_body_2d = NodePath("../..")
animated_sprite_2d = NodePath("../../AnimatedSprite2D")
jump_force = 500

[node name="dead" type="Node2D" parent="StateMachine"]
script = ExtResource("30_05tee")

[node name="walk" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("character_body_2d", "animated_sprite_2d")]
script = ExtResource("31_30bye")
character_body_2d = NodePath("../..")
animated_sprite_2d = NodePath("../../AnimatedSprite2D")

[node name="double_jump" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("character_body_2d", "animated_sprite_2d")]
script = ExtResource("32_k1jpt")
character_body_2d = NodePath("../..")
animated_sprite_2d = NodePath("../../AnimatedSprite2D")
jump_force = 300
SPEED = 30

[node name="idle" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("character_body_2d", "animated_sprite_2d")]
script = ExtResource("33_ihr5d")
character_body_2d = NodePath("../..")
animated_sprite_2d = NodePath("../../AnimatedSprite2D")

[connection signal="animation_finished" from="AnimatedSprite2D" to="." method="_on_animated_sprite_2d_animation_finished"]
